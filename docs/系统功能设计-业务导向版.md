# 保卫核心业务智能体系统 - 业务功能设计

## 设计理念

本系统按照**业务逻辑**进行设计，而非技术架构。所有功能命名、菜单组织、操作流程都从**业务人员的工作场景**出发，使用业务语言而非技术术语。

**核心原则：**
- 用户是业务人员，熟悉保卫工作流程，但不熟悉技术术语
- 功能按业务流程组织，而非技术模块
- 界面和操作符合业务人员的工作习惯
- 用业务语言描述功能，避免技术词汇

---

## 一、系统菜单结构（业务导向）

### 1. 工作台
**业务含义：** 每天开始工作时的第一站，查看待办事项、工作概览、快速入口

**功能模块：**
- 今日待办：需要我处理的案件、待审核的文档、待确认的分类
- 工作统计：本周处理的案件数、生成的文档数、工作效率
- 最近访问：快速访问最近查看的案件档案
- 快捷操作：常用功能的快速入口

---

### 2. 案件档案管理
**业务含义：** 管理所有案件卷宗，从导入到归档的全流程

#### 2.1 案件列表
**业务含义：** 查看所有案件档案，支持筛选和搜索

**功能点：**
- 案件列表展示（案件编号、案件名称、案件类型、状态）
- 按条件筛选（案件类型、时间范围、处理状态、所属部门）
- 全文搜索（搜索案件内容、涉案人员、案件描述）
- 批量操作（批量归档、批量导出、批量修改分类）

#### 2.2 案件导入（统一入口）
**业务含义：** 将纸质卷宗扫描件或电子卷宗导入系统（合并了电子卷宗导入和扫描卷宗数字化功能）

**设计理念：** 从用户角度，不管是电子卷宗还是扫描卷宗，本质上都是"把案件卷宗导入系统"。用户不需要关心系统内部是"直接提取文字"还是"文字识别"，系统会根据文件类型自动选择处理方式。

**功能点：**
- **卷宗类型自动识别**：
  - 电子卷宗（Word文档等）→ 直接提取文字内容
  - 扫描卷宗（PDF扫描件/图片等）→ 自动进行文字识别
  - 用户也可以手动指定卷宗类型
- **批量导入**：一次导入多份卷宗，支持混合类型
- **导入配置**：设置批次名称、来源部门、默认标签
- **识别结果查看**：对于扫描卷宗，查看文字识别状态和结果
- **识别结果校对**：对于扫描卷宗，人工校对和修正识别错误
- **导入记录**：查看历史导入批次，了解处理情况

**业务优势：**
- 用户无需区分"导入"和"数字化"两个功能
- 统一入口，操作流程更简洁
- 系统智能处理，减少用户决策负担

#### 2.3 案件分类
**业务含义：** 对案件进行归类整理，便于后续查找

**功能点：**
- 智能分类（系统自动识别案件类型）
- 分类确认（人工确认或调整分类结果）
- 分类规则配置（设置分类标准和规则）
- 多级分类（一级分类、二级分类、三级分类）

#### 2.5 案件检索
**业务含义：** 快速查找需要的案件档案

**功能点：**
- 全文检索（搜索案件内容）
- 高级搜索（多条件组合搜索）
- 检索结果展示（高亮显示匹配内容）
- 检索历史（保存常用搜索条件）

#### 2.6 案件详情
**业务含义：** 查看单个案件的完整信息

**功能点：**
- 基本信息（案件编号、名称、类型、时间、地点）
- 案件内容（OCR识别的文字内容）
- 案件附件（相关文件、图片）
- 处理记录（案件处理的时间线）
- 关联信息（关联的其他案件、人员、法规）

---

### 3. 智能文档生成
**业务含义：** 根据案件信息自动生成各类公文和报告

#### 3.1 文档生成
**业务含义：** 选择模板和案件，生成标准化的文档

**功能点：**
- 模板选择（选择要生成的文档类型）
- 案件关联（选择相关的案件档案）
- 要素填写（填写文档需要的核心信息）
- 生成预览（查看生成结果）
- 文档编辑（修改生成的内容）
- 文档导出（导出为Word、PDF格式）

#### 3.2 案件卷宗生成
**业务含义：** 为案件生成完整的卷宗材料

**功能点：**
- 卷宗结构生成（自动生成卷宗目录）
- 文书生成（生成立案报告、讯问笔录等）
- 卷宗整理（按标准格式整理卷宗）
- 卷宗导出（导出完整卷宗）

#### 3.3 公文助手
**业务含义：** 生成各类公文材料

**功能点：**
- 请示报告生成（生成请示、报告类公文）
- 调查笔录生成（生成询问、讯问笔录）
- 调查报告生成（生成案件调查报告）
- 公文格式检查（检查格式是否符合规范）

#### 3.4 报告生成器
**业务含义：** 生成工作总结、分析报告等

**功能点：**
- 工作总结生成（生成月度、年度工作总结）
- 数据分析报告（生成统计分析报告）
- 报告模板选择（选择报告模板）
- 数据图表生成（自动生成图表）

#### 3.5 会议纪要生成
**业务含义：** 根据会议录音或记录生成会议纪要

**功能点：**
- 录音转文字（将会议录音转为文字）
- 纪要生成（自动生成会议纪要）
- 纪要编辑（修改和完善纪要内容）
- 纪要导出（导出会议纪要）

#### 3.6 模板管理
**业务含义：** 管理文档生成使用的模板

**功能点：**
- 模板列表（查看所有模板）
- 模板编辑（修改模板内容）
- 模板上传（上传新模板）
- 模板分类（按类型分类管理）

#### 3.7 内容审查
**业务含义：** 检查生成的文档是否符合规范和安全要求

**功能点：**
- 敏感信息检测（检测涉密内容）
- 格式规范检查（检查公文格式）
- 内容合规性检查（检查是否符合法规）
- 审查结果处理（标记问题、提供修改建议）

---

### 4. 知识关联分析
**业务含义：** 分析案件之间的关联关系，发现隐藏的联系

#### 4.1 关联查询
**业务含义：** 查询案件、人员、地点之间的关联关系

**功能点：**
- 实体查询（查询案件、人员、地点等实体）
- 关系查询（查询实体之间的关联）
- 关联图谱展示（可视化展示关联关系）
- 多跳查询（查询多级关联）

#### 4.2 实体管理
**业务含义：** 管理案件、人员、地点等实体信息

**功能点：**
- 实体列表（查看所有实体）
- 实体编辑（修改实体信息）
- 实体创建（创建新实体）
- 实体关联（建立实体之间的关联）

#### 4.3 关系管理
**业务含义：** 管理实体之间的关联关系

**功能点：**
- 关系列表（查看所有关系）
- 关系编辑（修改关系信息）
- 关系创建（创建新关系）
- 关系类型管理（管理关系类型）

#### 4.4 知识提取
**业务含义：** 从案件档案中自动提取关键信息

**功能点：**
- 信息提取（提取人员、时间、地点等信息）
- 提取结果确认（人工确认提取结果）
- 提取规则配置（设置提取规则）

---

### 5. 数据统计分析
**业务含义：** 统计案件数据，分析趋势，辅助决策

#### 5.1 数据统计
**业务含义：** 统计案件数量、类型分布等基础数据

**功能点：**
- 案件统计（案件总数、类型分布、时间分布）
- 部门统计（各部门案件数量）
- 处理效率统计（处理时间、办结率）
- 统计报表（生成统计报表）

#### 5.2 可视化分析
**业务含义：** 用图表展示数据，直观了解数据情况

**功能点：**
- 图表展示（柱状图、饼图、折线图）
- 数据钻取（点击图表查看详细数据）
- 图表导出（导出图表为图片）
- 自定义图表（自定义图表类型和样式）

#### 5.3 专题分析
**业务含义：** 针对特定主题进行深入分析

**功能点：**
- 时空分析（分析案件的时间空间分布）
- 关联分析（分析案件之间的关联模式）
- 趋势分析（分析案件数量变化趋势）
- 成因分析（分析案件发生的原因）

#### 5.4 预测分析
**业务含义：** 基于历史数据预测未来趋势

**功能点：**
- 风险预测（预测高风险区域和时间）
- 趋势预测（预测案件数量趋势）
- 预警提醒（高风险情况预警）
- 预测报告（生成预测分析报告）

---

### 6. 系统管理
**业务含义：** 系统管理员使用的功能，管理用户、权限、配置等

#### 6.1 用户管理
**业务含义：** 管理系统用户账号

**功能点：**
- 用户列表（查看所有用户）
- 用户创建（创建新用户）
- 用户编辑（修改用户信息）
- 用户禁用（禁用用户账号）

#### 6.2 角色权限
**业务含义：** 管理用户角色和权限

**功能点：**
- 角色列表（查看所有角色）
- 角色创建（创建新角色）
- 权限配置（配置角色权限）
- 权限分配（分配权限给用户）

#### 6.3 系统配置
**业务含义：** 配置系统参数

**功能点：**
- 基础配置（系统名称、logo等）
- 业务配置（分类规则、标签规则等）
- 安全配置（密码策略、登录策略等）
- 通知配置（通知方式、通知模板等）

#### 6.4 日志审计
**业务含义：** 查看系统操作日志，用于审计

**功能点：**
- 操作日志（查看用户操作记录）
- 登录日志（查看登录记录）
- 日志查询（按条件查询日志）
- 日志导出（导出日志文件）

#### 6.5 系统监控
**业务含义：** 监控系统运行状态

**功能点：**
- 系统状态（CPU、内存、磁盘使用情况）
- 服务状态（各服务运行状态）
- 性能监控（响应时间、并发数等）
- 告警管理（系统告警信息）

---

## 二、业务流程设计

### 业务流程1：案件卷宗导入流程

```
选择卷宗 → 系统自动处理 → 结果查看/校对 → 智能分类 → 归档完成
```

**业务说明：**
1. **选择卷宗**：在"案件导入"页面选择要导入的卷宗文件（电子卷宗或扫描卷宗均可）
2. **系统自动处理**：
   - 电子卷宗（Word文档等）→ 直接提取文字内容
   - 扫描卷宗（PDF扫描件/图片等）→ 自动进行文字识别
3. **结果查看/校对**：对于扫描卷宗，可在页面右侧查看识别进度和结果，必要时人工校对
4. **智能分类**：系统根据内容自动判断案件类型
5. **归档完成**：案件档案整理完成，可以查询和使用

**设计优势：** 用户无需区分"导入"和"数字化"，统一入口，智能处理。

---

### 业务流程2：文档生成流程

```
选择模板 → 关联案件 → 填写要素 → 生成文档 → 内容审查 → 导出文档
```

**业务说明：**
1. **选择模板**：选择要生成的文档类型（如调查报告、请示报告等）
2. **关联案件**：选择相关的案件档案，系统自动提取信息
3. **填写要素**：补充填写文档需要的核心信息
4. **生成文档**：系统根据模板和案件信息生成文档
5. **内容审查**：检查文档是否符合规范和安全要求
6. **导出文档**：导出为Word或PDF格式

---

### 业务流程3：案件关联分析流程

```
选择案件 → 提取信息 → 建立关联 → 查询分析 → 生成报告
```

**业务说明：**
1. **选择案件**：选择要分析的案件
2. **提取信息**：系统自动提取案件中的关键信息（人员、时间、地点等）
3. **建立关联**：系统自动建立案件之间的关联关系
4. **查询分析**：查询和分析关联关系
5. **生成报告**：生成关联分析报告

---

## 三、功能命名规范（业务导向）

### 命名原则
- ✅ 使用业务术语：案件、档案、卷宗、公文、报告
- ❌ 避免技术术语：API、接口、数据库、模块、服务

### 命名示例

| 技术命名 | 业务命名 | 说明 |
|---------|---------|------|
| 档案管理模块 | 案件档案管理 | 用业务语言描述 |
| OCR识别服务 | 案件数字化 | 用业务场景描述 |
| 文档生成API | 智能文档生成 | 用业务功能描述 |
| 知识图谱查询 | 关联查询 | 用业务操作描述 |
| 数据统计接口 | 数据统计分析 | 用业务功能描述 |

---

## 四、用户角色设计

### 角色1：办案人员
**业务职责：** 处理案件、生成文档、查询档案

**可用功能：**
- 工作台
- 案件档案管理（查看、搜索、导入）
- 智能文档生成（所有生成功能）
- 知识关联分析（查询、查看）
- 数据统计分析（查看统计、图表）

---

### 角色2：档案管理员
**业务职责：** 管理案件档案、分类整理、归档

**可用功能：**
- 工作台
- 案件档案管理（所有功能）
- 智能文档生成（查看、审查）
- 知识关联分析（所有功能）
- 数据统计分析（所有功能）

---

### 角色3：系统管理员
**业务职责：** 管理系统、用户、权限、配置

**可用功能：**
- 所有功能
- 系统管理（所有管理功能）

---

## 五、界面设计原则

### 1. 信息组织
- 按业务流程组织信息，而非技术模块
- 重要信息突出显示（案件编号、状态、时间）
- 相关信息分组展示（基本信息、处理记录、关联信息）

### 2. 操作流程
- 操作步骤清晰明确，符合业务流程
- 提供操作引导和提示
- 支持操作回退和撤销

### 3. 反馈机制
- 操作成功/失败有明确提示
- 长时间操作显示进度
- 错误提示用业务语言，避免技术术语

### 4. 数据展示
- 用业务语言展示数据（案件数、处理率、办结率）
- 图表直观易懂，符合业务习惯
- 支持数据导出和打印

---

## 六、与现有系统的对应关系

### 前端路由对应

| 业务功能 | 前端路由 | 说明 |
|---------|---------|------|
| 工作台 | /dashboard | 保持不变 |
| 案件列表 | /case-file | 业务导向命名 |
| 案件导入 | /case-file/import | 统一入口（合并导入和数字化） |
| 案件分类 | /case-file/classification | 业务导向命名 |
| 案件检索 | /case-file/search | 业务导向命名 |
| 案件详情 | /case-file/:id | 业务导向命名 |
| 文档生成 | /doc-generate | 业务导向命名 |
| 关联查询 | /knowledge-graph | 业务导向命名 |
| 数据统计 | /statistics | 业务导向命名 |

> 注：原 `/case-file/ocr` 路由已重定向到 `/case-file/import`，旧链接仍然有效。

### 后端API对应

| 业务功能 | 后端API | 说明 |
|---------|---------|------|
| 案件列表 | /api/v1/archive/list | 保持技术命名 |
| 案件导入 | /api/v1/archive/import | 保持技术命名 |
| 案件检索 | /api/v1/archive/search | 保持技术命名 |
| 文档生成 | /api/v1/doc-generate | 保持技术命名 |
| 关联查询 | /api/v1/knowledge-graph | 保持技术命名 |
| 数据统计 | /api/v1/statistics | 保持技术命名 |

**说明：** 后端API保持技术命名是合理的，因为API是给前端调用的，前端会将其转换为业务语言展示给用户。

---

## 七、实施建议

### 阶段1：菜单和导航优化
1. 按照业务导向重新组织菜单结构
2. 优化菜单命名，使用业务语言
3. 调整菜单顺序，符合业务流程

### 阶段2：页面标题和提示优化
1. 页面标题使用业务语言
2. 操作提示用业务语言描述
3. 错误提示避免技术术语

### 阶段3：功能说明文档
1. 编写用户操作手册（业务语言）
2. 提供功能使用示例
3. 制作操作视频教程

---

## 八、总结

本设计文档按照**业务导向**的原则，重新梳理了系统的功能结构和业务流程。所有功能命名、菜单组织、操作流程都从**业务人员的工作场景**出发，使用业务语言而非技术术语。

**核心价值：**
- 降低学习成本：业务人员无需学习技术术语
- 提高工作效率：功能组织符合业务流程
- 提升用户体验：界面和操作符合业务习惯
